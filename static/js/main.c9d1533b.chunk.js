(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(47)},34:function(e,t,n){},36:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),o=n.n(c),l=n(14),i=n.n(l),u=n(50),s=n(49),m=n(51),f=n(48),d=function(e){var t=e.match;return o.a.createElement("div",null,o.a.createElement("h1",null,"404 - Not Found"),o.a.createElement("p",null,o.a.createElement("small",null,o.a.createElement("code",null,t.url))),o.a.createElement("a",{href:"/"},"Go to start page"))},p=n(7),h=n(19),g=n(15),v=n(16),E=n(20),b=n(17),y=n(21),P=n(6),w=n.n(P),_=n(5),j=n(10),k=n(11),O=n.n(k),x="https://hontas-test.prismic.io/api/v2",R=O.a.api(x),L=new Map,D="sv-se";function N(e){return S.apply(this,arguments)}function S(){return(S=Object(j.a)(w.a.mark(function e(t){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R;case 2:return n=e.sent,e.abrupt("return",n.getByID(t,{ref:a}));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;return r=[B,Array.prototype.slice.call(arguments)],C({cacheId:a?"".concat(a,"/").concat(n,"/").concat(t,"-").concat(e):"".concat(n,"/").concat(t,"-").concat(e),query:O.a.Predicates.at("my.".concat(t,".uid"),e),options:{lang:n,ref:a}})}function I(e,t){return r=[I,Array.prototype.slice.call(arguments)],C({cacheId:a?"".concat(a,"/").concat(e):e,query:O.a.Predicates.at("my.page.slug",e),options:{lang:t||"*",ref:a}})}function C(e){return A.apply(this,arguments)}function A(){return(A=Object(j.a)(w.a.mark(function e(t){var n,a,r,c,o,l,i,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.cacheId,a=t.query,r=t.options,c=void 0===r?{}:r,!L.has(n)){e.next=3;break}return e.abrupt("return",Promise.resolve(L.get(n)));case 3:return e.next=5,R;case 5:return o=e.sent,e.next=8,o.query(a,c);case 8:return l=e.sent,i=l.results,u=i[0]?Object(p.a)({},i[0],{primsicRefs:o.refs}):void 0,e.next=13,U(u);case 13:return console.log(n,u),L.set(n,u),e.abrupt("return",u);case 16:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function U(){return F.apply(this,arguments)}function F(){return(F=Object(j.a)(w.a.mark(function e(){var t,n,a,r=arguments;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.length>0&&void 0!==r[0]?r[0]:{}).data||!Array.isArray(t.data.content)){e.next=7;break}return n=t.data.content.map(function(e){return e.content_link?N(e.content_link.id).then(function(e){return Object(p.a)({},e.data,{prismicType:e.type,id:e.id})}):e}),e.next=5,Promise.all(n);case 5:a=e.sent,t.data.content=a;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var H={setRef:function(e){a=e},reFetch:function(){var e=r,t=Object(_.a)(e,2),n=t[0],a=t[1];return n.apply(null,a)},getApiInfo:function(){return fetch(x).then(function(e){return e.json()})},getPageByUID:function(e,t){return B(e,"page",t)},getPageBySlug:function(e,t){return I(e,t)}},q=o.a.createContext({}),J={"/":"home","/contact/":"contact","/about/":"about"},M=function(e){if("undefined"===typeof J[e])throw Error("Unhandled path '".concat(e,"'"));return J[e]},W=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={languages:[],locale:"sv-se",document:{},isLoading:!1,status:200,refs:[],currentRef:void 0},n.setPrismicRef=function(e){n.setState({currentRef:e}),H.setRef(e),n.state.document,n.state.document.id?n.fetchPageByUID(n.state.document.uid,n.state.locale):H.reFetch().then(n.handleResponse)},n.setLocale=function(e){n.setState({locale:e}),n.fetchPageByUID(n.state.document.uid,e,n.state.currentRef)},n.fetchPageForPath=function(e){return n.fetchPageByUID(M(e),n.state.locale,n.state.currentRef)},n.fetchPageBySlug=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.state.currentRef;return n.setState({isLoading:!0}),H.getPageBySlug(e,t,a).then(n.handleResponse)},n.fetchPageByUID=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.locale,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.state.currentRef;return n.setState({isLoading:!0}),H.getPageByUID(e,t,a).then(n.handleResponse)},n.handleResponse=function(e){e?n.setState({isLoading:!1,languages:[e.lang].concat(Object(h.a)(e.alternate_languages.map(function(e){return e.lang}))),locale:e.lang,document:Object(p.a)({},e.data,{uid:e.uid}),status:200}):n.setState({isLoading:!1,document:{},status:404})},n}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;H.getApiInfo().then(function(t){console.log("apiInfo",t),e.setState({refs:t.refs,currentRef:t.refs.find(function(e){return e.isMasterRef}).ref})}),window.__getState=function(){return e.state}}},{key:"render",value:function(){return o.a.createElement(q.Provider,{value:Object(p.a)({},this.state,{fetchPageForPath:this.fetchPageForPath,fetchPageBySlug:this.fetchPageBySlug,setPrismicRef:this.setPrismicRef,setLocale:this.setLocale})},this.props.children)}}]),t}(o.a.Component),G=q,K=n(31),T=function(e){var t=e.match,n=Object(c.useContext)(G),a=n.document,r=n.locale,l=n.fetchPageForPath,i=n.isLoading;if(Object(c.useEffect)(function(){l(t.path)},[]),i)return o.a.createElement("p",null,"sv-se"===r?"Laddar inneh\xe5ll...":"Loading content...");var u=a||{},s=u.meta_title,m=u.meta_description,f=u.slug;return o.a.createElement("main",{className:"App-content"},o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,s),o.a.createElement("p",null,"".concat(r,"/").concat(f)),o.a.createElement("p",null,m),o.a.createElement("code",null,"process.env.PUBLIC_URL: ","https://hontas.github.io/prismic-test"),a.image&&o.a.createElement("img",{src:a.image.url,alt:a.image.alt,style:{maxWidth:"35vw"}}),o.a.createElement("h3",null,"Dynamiska sidor"),"Publicerad:",o.a.createElement(K.a,{to:"kampanj/loans-with-market-leading-interest"},"kampanj/loans-with-market-leading-interest"),o.a.createElement("br",null),"EJ publicerad:",o.a.createElement(K.a,{to:"kampanj/lan-med-marknadsledande-ranta"},"kampanj/lan-med-marknadsledande-ranta")))},$=n(22),z=(n(34),function(e){var t=e.match,n=Object(c.useContext)(G),a=n.document,r=n.locale,l=n.fetchPageBySlug,i=n.isLoading,u=n.status;if(Object(c.useEffect)(function(){l(t.params.slug)},[]),i)return o.a.createElement("p",null,"sv-se"===r?"Laddar inneh\xe5ll...":"Loading content...");if(404===u)return o.a.createElement(d,{match:t});var s=a||{},m=(s.slug,s.content),f=void 0===m?[]:m,p=Object($.a)(s,["slug","content"]),h=Object.entries(p).filter(function(e){return Object(_.a)(e,1)[0].includes("meta")});return o.a.createElement("div",{className:"DynamicLandingPage"},f.map(function(e){return o.a.createElement("section",{key:e.id},o.a.createElement("h2",null,e.title.map(function(e){return e.text})),o.a.createElement("p",null,e.text.map(function(e){return e.text})),o.a.createElement("img",{src:e.image.url,alt:e.image.alt,className:"DynamicLandingPage__image"}))}),o.a.createElement("div",{className:"DynamicLandingPage__meta"},o.a.createElement("dl",null,h.map(function(e){var t=Object(_.a)(e,2),n=t[0],a=t[1];return o.a.createElement("div",{key:n},o.a.createElement("dt",null,n),o.a.createElement("dd",null,a))}))))}),Q=(n(36),{"sv-se":{"/":"Hem","/about/":"Om","/contact/":"Kontakt"},"en-us":{"/":"Home","/about/":"About","/contact/":"Contact"}}),V=[{path:"/",comp:T},{path:"/about/",comp:T},{path:"/contact/",comp:T}],X=function(){var e=Object(c.useContext)(G).locale;return o.a.createElement("nav",null,o.a.createElement("ul",{className:"Router__navList"},V.map(function(t){var n=t.path;t.text;return o.a.createElement("li",{key:n},o.a.createElement(s.a,{to:n,exact:!0,className:"Router__navList__link",activeClassName:"Router__navList__link--active"},Q[e][n]))})))},Y=function(){return o.a.createElement(m.a,null,V.map(function(e){var t=e.path,n=e.comp;e.exact;return o.a.createElement(f.a,{path:t,exact:!0,component:n,key:t})}),o.a.createElement(f.a,{path:"/kampanj/:slug",component:z}),o.a.createElement(f.a,{component:d}))},Z=(n(39),function(e){var t=e.onSelect,n=e.list,a=e.selected,r=Object(c.useState)(!1),l=Object(_.a)(r,2),i=l[0],u=l[1];return o.a.createElement("div",{className:"DropDown"},o.a.createElement("button",{className:"DropDown__toggle-btn",disabled:n.length<1,onClick:function(){return u(!i)}},a||" "),o.a.createElement("div",{className:"DropDown__dropdown ".concat(i?"DropDown__dropdown--is-open":"")},n.map(function(e){var n=e.id,a=e.label;return o.a.createElement("button",{key:n,className:"DropDown__dropdown-btn",onClick:function(){t(n),u(!1)}},a)})))}),ee={"en-us":"\ud83c\uddfa\ud83c\uddf8","sv-se":"\ud83c\uddf8\ud83c\uddea",no:"\ud83c\uddf3\ud83c\uddf4"};var te=function(e){var t=e.className,n=void 0===t?"":t,a=Object(c.useContext)(G),r=a.languages,l=a.locale,i=a.setLocale,u=r.filter(function(e){return e!==l}).map(function(e){return{id:e,label:ee[e]}});return o.a.createElement("div",{className:"Languages ".concat(n)},o.a.createElement(Z,{list:u,selected:ee[l],onSelect:i}))};var ne=function(e){var t=e.className,n=void 0===t?"":t,a=Object(c.useContext)(G),r=a.refs,l=a.currentRef,i=a.setPrismicRef,u=r.find(function(e){return e.ref===l})||{},s=r.filter(function(e){return e.ref!==l}).map(function(e){return{id:e.ref,label:e.label}});return o.a.createElement("div",{className:"PrismicRefs ".concat(n)},"Prismic ref:"," ",o.a.createElement(Z,{list:s,selected:u.label,onSelect:i}))},ae=(n(41),function(){return o.a.createElement("header",{className:"Header"},o.a.createElement(X,null),o.a.createElement(ne,{className:"Header__refs"}),o.a.createElement(te,{className:"Header__lang"}))}),re=(n(43),function(){return o.a.createElement("div",{className:"App"},o.a.createElement(ae,null),o.a.createElement("main",{className:"App-content"},o.a.createElement(Y,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(45);i.a.render(o.a.createElement(W,null,o.a.createElement(u.a,null,o.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.c9d1533b.chunk.js.map