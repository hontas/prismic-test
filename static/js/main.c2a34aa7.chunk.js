(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(47)},34:function(e,t,a){},36:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),o=a.n(c),l=a(14),i=a.n(l),u=a(50),s=a(49),m=a(51),f=a(48),d=function(e){var t=e.match;return o.a.createElement("div",null,o.a.createElement("h1",null,"404 - Not Found"),o.a.createElement("p",null,o.a.createElement("small",null,o.a.createElement("code",null,t.url))),o.a.createElement("a",{href:"/"},"Go to start page"))},p=a(7),h=a(19),g=a(15),v=a(16),b=a(20),E=a(17),y=a(21),w=a(5),k=a.n(w),j=a(6),P=a(8),_=a(11),x=a.n(_),O="https://hontas-test.prismic.io/api/v2",R=x.a.api(O),D=new Map,L="sv-se";function N(e){return S.apply(this,arguments)}function S(){return(S=Object(P.a)(k.a.mark(function e(t){var a,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R;case 2:return a=e.sent,e.next=5,a.getByID(t,{ref:n});case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return console.log("Could not get document using id: ".concat(t," and ref: ").concat(n)),e.abrupt("return",void 0);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;return r=[B,Array.prototype.slice.call(arguments)],C({cacheId:n?"".concat(n,"/").concat(a,"/").concat(t,"-").concat(e):"".concat(a,"/").concat(t,"-").concat(e),query:x.a.Predicates.at("my.".concat(t,".uid"),e),options:{lang:a,ref:n}})}function I(e,t){return r=[I,Array.prototype.slice.call(arguments)],C({cacheId:n?"".concat(n,"/").concat(e):e,query:x.a.Predicates.at("my.page.slug",e),options:{lang:t||"*",ref:n}})}function C(e){return A.apply(this,arguments)}function A(){return(A=Object(P.a)(k.a.mark(function e(t){var a,n,r,c,o,l,i,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.cacheId,n=t.query,r=t.options,c=void 0===r?{}:r,!D.has(a)){e.next=3;break}return e.abrupt("return",Promise.resolve(D.get(a)));case 3:return e.next=5,R;case 5:return o=e.sent,e.next=8,o.query(n,c);case 8:return l=e.sent,i=l.results,u=i[0]?Object(p.a)({},i[0],{primsicRefs:o.refs}):void 0,e.next=13,F(u);case 13:return console.log(a,u),D.set(a,u),e.abrupt("return",u);case 16:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function F(){return U.apply(this,arguments)}function U(){return(U=Object(P.a)(k.a.mark(function e(){var t,a,n,r=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.length>0&&void 0!==r[0]?r[0]:{}).data||!Array.isArray(t.data.content)){e.next=7;break}return a=t.data.content.map(function(){var e=Object(P.a)(k.a.mark(function e(t){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.content_link){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,N(t.content_link.id);case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",Object(p.a)({},a.data,{prismicType:a.type,id:a.id}));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(a);case 5:n=e.sent,t.data.content=n.filter(Boolean);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var H={setRef:function(e){n=e},reFetch:function(){var e=r,t=Object(j.a)(e,2),a=t[0],n=t[1];return a.apply(null,n)},getApiInfo:function(){return fetch(O).then(function(e){return e.json()})},getPageByUID:function(e,t){return B(e,"page",t)},getPageBySlug:function(e,t){return I(e,t)}},q=o.a.createContext({}),M={"/":"home","/contact/":"contact","/about/":"about"},W=function(e){if("undefined"===typeof M[e])throw Error("Unhandled path '".concat(e,"'"));return M[e]},J=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={languages:[],locale:"sv-se",document:{},isLoading:!1,status:200,refs:[],currentRef:void 0},a.setPrismicRef=function(e){a.setState({currentRef:e}),H.setRef(e),a.state.document,a.state.document.id?a.fetchPageByUID(a.state.document.uid,a.state.locale):H.reFetch().then(a.handleResponse)},a.setLocale=function(e){a.setState({locale:e}),a.fetchPageByUID(a.state.document.uid,e,a.state.currentRef)},a.fetchPageForPath=function(e){return a.fetchPageByUID(W(e),a.state.locale,a.state.currentRef)},a.fetchPageBySlug=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.state.currentRef;return a.setState({isLoading:!0}),H.getPageBySlug(e,t,n).then(a.handleResponse)},a.fetchPageByUID=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.state.locale,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.state.currentRef;return a.setState({isLoading:!0}),H.getPageByUID(e,t,n).then(a.handleResponse)},a.handleResponse=function(e){e?a.setState({isLoading:!1,languages:[e.lang].concat(Object(h.a)(e.alternate_languages.map(function(e){return e.lang}))),locale:e.lang,document:Object(p.a)({},e.data,{uid:e.uid}),status:200}):a.setState({isLoading:!1,document:{},status:404})},a}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;H.getApiInfo().then(function(t){console.log("apiInfo",t),e.setState({refs:t.refs,currentRef:t.refs.find(function(e){return e.isMasterRef}).ref})}),window.__getState=function(){return e.state}}},{key:"render",value:function(){return o.a.createElement(q.Provider,{value:Object(p.a)({},this.state,{fetchPageForPath:this.fetchPageForPath,fetchPageBySlug:this.fetchPageBySlug,setPrismicRef:this.setPrismicRef,setLocale:this.setLocale})},this.props.children)}}]),t}(o.a.Component),G=q,K=a(31),T=function(e){var t=e.match,a=Object(c.useContext)(G),n=a.document,r=a.locale,l=a.fetchPageForPath,i=a.isLoading;if(Object(c.useEffect)(function(){l(t.path)},[]),i)return o.a.createElement("p",null,"sv-se"===r?"Laddar inneh\xe5ll...":"Loading content...");var u=n||{},s=u.meta_title,m=u.meta_description,f=u.slug;return o.a.createElement("main",{className:"App-content"},o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,s),o.a.createElement("p",null,"".concat(r,"/").concat(f)),o.a.createElement("p",null,m),n.image&&o.a.createElement("img",{src:n.image.url,alt:n.image.alt,style:{maxWidth:"35vw"}}),o.a.createElement("h3",null,"Dynamiska sidor"),"Publicerad (master):",o.a.createElement(K.a,{to:"/kampanj/loans-with-market-leading-interest"},"kampanj/loans-with-market-leading-interest"),o.a.createElement("br",null),"Ej publicerad (draft):",o.a.createElement(K.a,{to:"/kampanj/lan-med-marknadsledande-ranta"},"kampanj/lan-med-marknadsledande-ranta"),o.a.createElement("p",null,"Det opublicerade ligger i en release - tyv\xe4rr. Hade varit b\xe4ttre att ha tillg\xe5ng till allt opublicerat data utan att beh\xf6va s\xe4tta upp previews hos prismic")))},$=a(22),z=(a(34),function(e){var t=e.match,a=Object(c.useContext)(G),n=a.document,r=a.locale,l=a.fetchPageBySlug,i=a.isLoading,u=a.status;if(Object(c.useEffect)(function(){l(t.params.slug)},[]),i)return o.a.createElement("p",null,"sv-se"===r?"Laddar inneh\xe5ll...":"Loading content...");if(404===u)return o.a.createElement(d,{match:t});var s=n||{},m=(s.slug,s.content),f=void 0===m?[]:m,p=Object($.a)(s,["slug","content"]),h=Object.entries(p).filter(function(e){return Object(j.a)(e,1)[0].includes("meta")});return o.a.createElement("div",{className:"DynamicLandingPage"},f.map(function(e){return o.a.createElement("section",{key:e.id},o.a.createElement("h2",null,e.title.map(function(e){return e.text})),o.a.createElement("p",null,e.text.map(function(e){return e.text})),o.a.createElement("img",{src:e.image.url,alt:e.image.alt,className:"DynamicLandingPage__image"}))}),o.a.createElement("div",{className:"DynamicLandingPage__meta"},o.a.createElement("dl",null,h.map(function(e){var t=Object(j.a)(e,2),a=t[0],n=t[1];return o.a.createElement("div",{key:a},o.a.createElement("dt",null,a),o.a.createElement("dd",null,n))}))))}),Q=(a(36),{"sv-se":{"/":"Hem","/about/":"Om","/contact/":"Kontakt"},"en-us":{"/":"Home","/about/":"About","/contact/":"Contact"}}),V=[{path:"/",comp:T},{path:"/about/",comp:T},{path:"/contact/",comp:T}],X=function(){var e=Object(c.useContext)(G).locale;return o.a.createElement("nav",null,o.a.createElement("ul",{className:"Router__navList"},V.map(function(t){var a=t.path;t.text;return o.a.createElement("li",{key:a},o.a.createElement(s.a,{to:a,exact:!0,className:"Router__navList__link",activeClassName:"Router__navList__link--active"},Q[e][a]))})))},Y=function(){return o.a.createElement(m.a,null,V.map(function(e){var t=e.path,a=e.comp;e.exact;return o.a.createElement(f.a,{path:t,exact:!0,component:a,key:t})}),o.a.createElement(f.a,{path:"/kampanj/:slug",component:z}),o.a.createElement(f.a,{component:d}))},Z=(a(39),function(e){var t=e.onSelect,a=e.list,n=e.selected,r=Object(c.useState)(!1),l=Object(j.a)(r,2),i=l[0],u=l[1];return o.a.createElement("div",{className:"DropDown"},o.a.createElement("button",{className:"DropDown__toggle-btn",disabled:a.length<1,onClick:function(){return u(!i)}},n||" "),o.a.createElement("div",{className:"DropDown__dropdown ".concat(i?"DropDown__dropdown--is-open":"")},a.map(function(e){var a=e.id,n=e.label;return o.a.createElement("button",{key:a,className:"DropDown__dropdown-btn",onClick:function(){t(a),u(!1)}},n)})))}),ee={"en-us":"\ud83c\uddfa\ud83c\uddf8","sv-se":"\ud83c\uddf8\ud83c\uddea",no:"\ud83c\uddf3\ud83c\uddf4"};var te=function(e){var t=e.className,a=void 0===t?"":t,n=Object(c.useContext)(G),r=n.languages,l=n.locale,i=n.setLocale,u=r.filter(function(e){return e!==l}).map(function(e){return{id:e,label:ee[e]}});return o.a.createElement("div",{className:"Languages ".concat(a)},o.a.createElement(Z,{list:u,selected:ee[l],onSelect:i}))};var ae=function(e){var t=e.className,a=void 0===t?"":t,n=Object(c.useContext)(G),r=n.refs,l=n.currentRef,i=n.setPrismicRef,u=r.find(function(e){return e.ref===l})||{},s=r.filter(function(e){return e.ref!==l}).map(function(e){return{id:e.ref,label:e.label}});return o.a.createElement("div",{className:"PrismicRefs ".concat(a)},"Prismic ref:"," ",o.a.createElement(Z,{list:s,selected:u.label,onSelect:i}))},ne=(a(41),function(){return o.a.createElement("header",{className:"Header"},o.a.createElement(X,null),o.a.createElement(ae,{className:"Header__refs"}),o.a.createElement(te,{className:"Header__lang"}))}),re=(a(43),function(){return o.a.createElement("div",{className:"App"},o.a.createElement(ne,null),o.a.createElement("main",{className:"App-content"},o.a.createElement(Y,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(45);var ce="";ce=new URL("https://hontas.github.io/prismic-test").pathname,i.a.render(o.a.createElement(J,null,o.a.createElement(u.a,{basename:ce},o.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.c2a34aa7.chunk.js.map